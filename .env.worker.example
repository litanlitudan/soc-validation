# Worker Node Environment Configuration
# Copy this to .env.worker and configure for each worker node

# ============================================================================
# ORCHESTRATOR CONNECTION
# ============================================================================
# IP address of the central orchestrator server
ORCHESTRATOR_IP=10.0.1.100

# Service ports on orchestrator (usually default)
PREFECT_API_PORT=4200
DEVICE_MANAGER_PORT=8000
NOTIFICATION_PORT=9000
REDIS_PORT=6379

# Redis password (if configured)
REDIS_PASSWORD=

# ============================================================================
# WORKER IDENTITY
# ============================================================================
# Unique identifier for this worker
WORKER_ID=worker-lab-a-01

# Physical location of this worker
WORKER_LOCATION=lab-site-a

# Worker pool assignment
WORKER_POOL_NAME=default

# ============================================================================
# WORKER PERFORMANCE
# ============================================================================
# Number of concurrent tasks this worker can handle
WORKER_CONCURRENCY=4

# Heartbeat interval in seconds
WORKER_HEARTBEAT_INTERVAL=30

# Resource limits
WORKER_CPU_LIMIT=2
WORKER_MEMORY_LIMIT=1G
WORKER_CPU_RESERVE=1
WORKER_MEMORY_RESERVE=512M

# ============================================================================
# STORAGE PATHS
# ============================================================================
# Local paths for artifacts and test binaries
ARTIFACT_PATH=/data/artifacts
TEST_BINARY_PATH=/data/tests
LOG_PATH=/data/logs

# Storage retention
ARTIFACT_RETENTION_DAYS=7
LOG_RETENTION_DAYS=30
MAX_DISK_USAGE_GB=100

# ============================================================================
# BOARD ACCESS
# ============================================================================
# Default telnet configuration
DEFAULT_TELNET_PORT=23
DEFAULT_TEST_TIMEOUT=1800  # 30 minutes

# Default board credentials (override per board in boards.yaml)
BOARD_USERNAME=admin
BOARD_PASSWORD=

# SSH key path for boards requiring SSH access
SSH_KEY_PATH=~/.ssh

# ============================================================================
# LAB-SPECIFIC CONFIGURATION
# ============================================================================
# Network configuration for this lab site
LAB_NETWORK_SUBNET=10.1.1.0/24
LAB_GATEWAY=10.1.1.1
LAB_DNS=10.1.1.1

# PDU configuration for this lab
PDU_HOST=pdu-a.lab.local
PDU_TYPE=apc  # Options: apc, raritan, servertech
PDU_USERNAME=admin
PDU_PASSWORD=

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=INFO
PREFECT_LOGGING_LEVEL=INFO

# Log formatting
LOG_FORMAT=json  # Options: json, text
LOG_DATE_FORMAT=%Y-%m-%d %H:%M:%S

# ============================================================================
# MONITORING (Optional)
# ============================================================================
# Prometheus node exporter
ENABLE_NODE_EXPORTER=true
NODE_EXPORTER_PORT=9100

# Custom metrics endpoint
METRICS_ENABLED=false
METRICS_PORT=9090

# ============================================================================
# DEBUGGING
# ============================================================================
DEBUG=false
VERBOSE=false

# ============================================================================
# VERSION
# ============================================================================
# Docker image version
VERSION=latest